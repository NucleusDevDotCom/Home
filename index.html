<!DOCTYPE html>
<html>
<head>
    <title>NucleusDev</title>
    <style>
        * {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            
        }
	.boxes:hover{
	    background-color:#EEEE;
		
	}
	.boxes{
		text-align:center;
		width:150px;
		height:55px;
		margin:0px;
		margin-left:5px;
		margin-top:12px;
		
		display:inline-block;
		border:1px solid;
		border-radius:5px;
	}
    </style>
	<script src="weather.js"></script>
	<meta name="viewport" content= "width=device-width, initial-scale=1.0">
</head>
<body>
    <div style="width:100%;border:0px solid;overflow-x:auto;">
		
		<div style="float:left; width:350px; height:120px; border:0px solid;">
			<div style="margin-left:10px;float:left;border:0px solid;"><img src="Nucleus.png" alt="Nucleus Image"></div>
			<div style="float:left;border:0px solid;font-size:larger;">NucleusDev - Development Solutions </div>
		</div>
		<div id="WeatherPanel" style="display:inline-block; height:80px; width:535px;border:0px solid;border-radius:3px;"></div>
	</div>
       
    
	
    <div style="overflow:auto;white-space:nowrap;width:100%;height:95px;border:0px solid;">
	<div class="boxes" >Volatility</div>
	<div class="boxes" >Stocks</div>
	<div class="boxes" >Crypto</div>
	<div class="boxes" >Ebay</div>
	<div class="boxes" >Youtube</div>
	<div class="boxes" >Empty</div>
	<div class="boxes" >Empty</div>
	<div class="boxes" >Empty</div>
    </div>
    
	<div style="width:100%; height:500px; border:0px solid; margin-top:5px; ">
		<div style="float:left; height:500px;width:200px;border:1px solid;border-radius:5px;"></div>
		<div id='Panel' style="float:left; display:inline-block; height:500px; width:700px;border:0px solid;border-radius:3px; margin-left:7px;"></div>
	</div>
	
	<script>
        
	var today = new Date();
        var dd = String(today.getDate()-1).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
        var yyyy = today.getFullYear();
 

	var ticker;
        var url;
	const time = "/range/1/day";
	const bDate = yyyy + '-' + mm + '-' + dd;
	const eDate =  yyyy + '-' + mm + '-' + dd;
        

	// Volatility  
        document.getElementsByClassName('boxes')[0]
                .addEventListener('click', function (event) {
	   GetVol();
        });
        // Stocks  
        document.getElementsByClassName('boxes')[1]
                .addEventListener('click', function (event) {
	   GetStock();
        });
       
        
	// Get Volatility
	async function GetVol(){
	   var ticker = "VXX";
           var api_url = 'https://api.polygon.io/v2/aggs/ticker/' + ticker + time + '/' + bDate + '/' + eDate + '?adjusted=true&sort=asc&limit=120&apiKey=gDSaldjr3rmQ7dyYOvFTNH_gZ36pNJhC';

           const response = await fetch(api_url);
           const data = await response.json();
	   var e = document.getElementById('Panel');
	   e.innerHTML = '<div style="border:1px solid; border-radius:3px;width:200px;padding:15px;">' + 
		              '<p><b>' + data.ticker + '</b><br>' +
                      'Date: ' + eDate + '<br>' +
                      'Close: ' + data.results[0].c + '<br>' + 
                      'Open: ' + data.results[0].o + '<br>' +
			          'High: ' + data.results[0].h + '<br>' +
                      'Low: ' + data.results[0].l + '<br>' +
					  '</p></div>';
	};

	// Get Stock
	async function GetStock(){
	   var ticker = "CHI";
           var api_url = 'https://api.polygon.io/v2/aggs/ticker/' + ticker + time + '/' + bDate + '/' + eDate + '?adjusted=true&sort=asc&limit=120&apiKey=gDSaldjr3rmQ7dyYOvFTNH_gZ36pNJhC';

           const response = await fetch(api_url);
           const data = await response.json();
	   var e = document.getElementById('Panel');
	   
        e.innerHTML = '<div style="border:1px solid; border-radius:3px;width:200px;padding:15px;">' + 
		              '<p><b>' + data.ticker + '</b><br>' +
                      'Date: ' + eDate + '<br>' +
                      'Close: ' + data.results[0].c + '<br>' + 
                      'Open: ' + data.results[0].o + '<br>' +
			          'High: ' + data.results[0].h + '<br>' +
                      'Low: ' + data.results[0].l + '<br>' +
					  '</p></div>';
	};

        

    </script>
</body>
</html>
  
